{% extends '_base.html' %} {% block title %}Profile{% endblock title %} {% block content %}
{%include 'includes/navbar.html' %}
<main class="max-w-3xl px-4 mx-auto my-12">
  <h1 class="text-4xl font-bold text-heading">Profile & Settings</h1>
  <div class="mb-4 border-b border-default mt-4">
    <ul
      class="flex flex-wrap -mb-px text-sm font-medium text-center"
      id="default-tab"
      data-tabs-toggle="#default-tab-content"
      role="tablist"
    >
      <li class="me-2" role="presentation">
        <button
          class="inline-block p-4 border-b-2 rounded-t-base"
          id="profile-tab"
          data-tabs-target="#profile"
          type="button"
          role="tab"
          aria-controls="profile"
          aria-selected="false"
        >
          Profile
        </button>
      </li>
      <li class="me-2" role="presentation">
        <button
          class="inline-block p-4 border-b-2 rounded-t-base hover:text-fg-brand hover:border-brand"
          id="picture-tab"
          data-tabs-target="#picture"
          type="button"
          role="tab"
          aria-controls="picture"
          aria-selected="false"
        >
          Picture
        </button>
      </li>
    </ul>
  </div>
  <div id="default-tab-content">
    <div class="hidden" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <form>
        <div class="grid gap-6 mb-6 md:grid-cols-2">
          <div>
            <label for="first_name" class="block mb-2.5 text-sm font-medium text-heading"
              >First name</label
            >
            <input
              type="text"
              id="first_name"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
              placeholder="John"
              required
            />
          </div>
          <div>
            <label for="last_name" class="block mb-2.5 text-sm font-medium text-heading"
              >Last name</label
            >
            <input
              type="text"
              id="last_name"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
              placeholder="Doe"
              required
            />
          </div>
          <div>
            <label for="company" class="block mb-2.5 text-sm font-medium text-heading"
              >Company</label
            >
            <input
              type="text"
              id="company"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
              placeholder="Flowbite"
              required
            />
          </div>
          <div>
            <label for="headline" class="block mb-2.5 text-sm font-medium text-heading"
              >Headline</label
            >
            <input
              type="text"
              id="headline"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
              placeholder="Flowbite"
              required
            />
          </div>
          <div>
            <label for="timezone" class="block mb-2.5 text-sm font-medium text-heading"
              >Timezone</label
            >
            <select
              id="timezone"
              class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
              required
            >
              <option selected>Select your timezone</option>
              <option value="UTC-6">UTC-6 Ciudad de México</option>
              <option value="UTC-5">UTC-5 Bogotá</option>
              <option value="UTC-3">UTC-3 Buenos Aires</option>
            </select>
          </div>
        </div>
        <div class="mb-6">
          <label for="email" class="block mb-2.5 text-sm font-medium text-heading"
            >Email address</label
          >
          <input
            type="email"
            id="email"
            class="bg-neutral-secondary-medium border border-default-medium text-heading text-base rounded-base focus:ring-brand focus:border-brand block w-full px-3.5 py-3 shadow-xs placeholder:text-body"
            placeholder="john.doe@company.com"
            required
          />
        </div>

        <button
          type="submit"
          class="text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
        >
          Update Profile
        </button>
      </form>
    </div>
    <div class="hidden" id="picture" role="tabpanel" aria-labelledby="picture-tab">
      <div class="max-w-xl">
        <h4 class="text-2xl font-bold text-heading">Image preview</h4>
        <p class="text-body mb-4">Minimum 200x200 pixels, Maximum 6000x6000 pixels</p>

        <!-- No image alert -->
        <div id="no-image-alert" class="p-4 mb-4 text-sm text-fg-warning rounded-base bg-warning-soft" role="alert">
          <span class="font-medium">No image uploaded.</span> Upload a profile picture using the area below.
        </div>

        <!-- Preview area (hidden until image selected) -->
        <div
          class="hidden w-64 aspect-square border border-default rounded-base bg-neutral-secondary-medium flex items-center justify-center mb-6 overflow-hidden"
          id="image-preview-container"
        >
          <img
            id="image-preview"
            src=""
            alt="Profile picture preview"
            class="w-full h-full object-cover"
          />
        </div>

        <!-- Upload dropzone -->
        <div class="flex items-center justify-center w-full mb-6">
          <div
            class="flex flex-col items-center justify-center w-full h-64 bg-neutral-secondary-medium border border-dashed border-default-strong rounded-base"
          >
            <div class="flex flex-col items-center justify-center text-body pt-5 pb-6">
              {% include "icons/upload.svg" with class="w-8 h-8 mb-4" %}
              <p class="mb-2 text-sm">Click the button below to upload</p>
              <p class="text-xs mb-4">Max. File Size: <span class="font-semibold">30MB</span></p>
              <button
                type="button"
                onclick="document.getElementById('profile-picture-input').click()"
                class="inline-flex items-center text-body bg-neutral-secondary-medium box-border border border-default-medium hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-4 focus:ring-neutral-tertiary shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
              >
                {% include "icons/search.svg" with class="w-4 h-4 me-1.5" %}
                Browse file
              </button>
            </div>
          </div>
          <input
            id="profile-picture-input"
            type="file"
            accept="image/*"
            class="hidden"
            onchange="previewProfileImage(event)"
          />
        </div>

        <button
          type="button"
          class="text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
        >
          Update Profile Picture
        </button>
      </div>

      <script>
        function previewProfileImage(event) {
          const file = event.target.files[0];
          if (!file) return;
          const reader = new FileReader();
          reader.onload = function (e) {
            const preview = document.getElementById("image-preview");
            const container = document.getElementById("image-preview-container");
            const alert = document.getElementById("no-image-alert");
            preview.src = e.target.result;
            container.classList.remove("hidden");
            container.classList.add("flex");
            alert.classList.add("hidden");
          };
          reader.readAsDataURL(file);
        }
      </script>
    </div>
  </div>
</main>
{% endblock content %}
